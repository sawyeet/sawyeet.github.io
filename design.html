<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>SawYeet</title>
        <link rel="stylesheet" href="css/styles.css">
    </head>

    <div class="headerd"><h1 class="header">SawYeet</h1></div>
    
    <div class="topnav">
        <div class="links"><a href="index.html">Home</a></div>
        <div class="links"><a href="design.html">Design</a></div>
        <div class="links"><a href="impl.html">Implementation</a></div>
        <div class="links"><a href="results.html">Results</a></div>
        <div class="links"><a href="conc.html">Conclusion</a></div>
        <div class="links"><a href="team.html">Team</a></div>
        <div class="links"><a href="add.html">Add. Materials</a></div>
    </div>  

    <div>
        <div class="section_header">
            <h1 class="section"><span class="line" id="design">Design</span></h1>
        </div>
        <div class="para">
            <b>(a) What design criteria must your project meet? What is the desired functionality? </b>
            <br><br>
            The main design criteria that we had was to be able to do this in real time, instead of having someone simulate a projectile motion by hand. This resulted in us using several optimizations that we would not have made were it not for this criteria. The project would have two parts to its functionality, the pitcher and the receiver. The pitcher is the person who would throw the ball from a distance, and the receiver is the robot. The only goal of the bot is to block the path of the projectile. 
            <br><br>
            <b>(b) Describe the design you chose. </b>
            <br><br>

            Our hardware design has 3 components: the ball, the depth camera, and the robot. The depth camera would be used to locate the ball in real world coordinates, and then use that information to predict its path, and its velocity. Based on this information, and the approximate movement speed of the Sawyer, we would move the end effector to the predicted location.
            <br>
            Based on this design, the software has three components. Ball localization, prediction, and actuation. The localization would use the ball and the depth camera. The prediction is purely software based, and will use the 3-D coordinates of the ball. And finally, the actuation uses the sawyer along with the predicted end position of the ball.
            <br>
            The design itself is relatively simple, but the main challenges appear when considering the limitations of each hardware item. 

            <br><br>
            <b>(c) What design choices did you make when you formulated your design? What trade-offs did you have to make?</b>
            <br><br> 

            The first one was related to the construction of the ball. There were several options: a tennis ball, a custom ball, and a balloon. The tennis ball was too heavy and small. Because the realsense had a low depth capture rate (15-30 frames at low resolutions), a fast motion would not work. The next option was to use a custom paper ball wrapped with neon tape which was made lighter by using a sponge core. Though the detection results here were much better, it was still too fast. So we moved on to using a balloon. The balloon was slow, and worked well with detection, but the prediction algorithm was not able to predict its non linear motion. In an effort to improve this, we used a half-inflated balloon with tape wrapped around it to increase the weight. This worked very well except for the fact that it would curve because of the asymmetrical shape and the spin on the throw. To counter the spin, we decided to simply put an underspin on the balloon, and this helped to reduce the side-spin.
            <br>
            The next one was the depth camera. The initial plan was to use two normal cameras and use stereo vision to find the ball, but constructing this algorithm, and dealing with its problems would not be possible under the time constraint that we had, so we decided to use the realsense instead. The realsense had issues with field of view. This meant that throwing the ball out of frame would give us only 1-3 frames to perform the prediction, and we had to throw the ball across the frame diagonally to capture as many frames as possible. 
            <br>
            One of the large constraints was the movement speeds of the Sawyer. To be able to react in time, we had to design the system to avoid path planning and IK solving and set the joint angles directly. To do this, we manually measured points in the 3d space and created a hashmap from end effector positions to joint angles. We could now avoid using an IK solver. 
            <br><br>
            <b>(d) How do these design choices impact how well the project meets design criteria that would be encountered in a real engineering application, such as robustness, durability, and efficiency? </b>
            <br><br>
            Each of the design choices were to make the computation faster and more reliable, while trying to solve the problem in real time. Without these optimizations, one would have to manually move the ball across the frame slowly in a projectile motion to work. By using the decision that we made, we were able to make the design more robust as it would now perform the prediction very accurately given that it received enough frames with the ball in it. However, for a real product, having a better camera with more FPS, and a larger FOV would make things work with a higher chance of success. 

        </div>
    </div>

</html>